# ============================================
# 築未科技營建自動化管理系統 - 環境變數設定檔
# ============================================
# 複製此檔案為 .env 並填入實際值
# 注意：.env 檔案不應提交到版本控制系統

# ============================================
# Cloudflare Tunnel（docker compose 隧道用）
# ============================================
# Zero Trust → Networks → Tunnels → 你的隧道 → 複製 Token
# CLOUDFLARE_TOKEN=你的隧道Token

# ============================================
# Supabase 連線資訊 (生產環境專用)
# ============================================
VITE_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_ANON_KEY=your-production-anon-key

# ============================================
# Supabase Service Role Key (後端腳本專用)
# ============================================
# 注意：此金鑰具有完整權限，僅用於後端腳本
# 請勿在前端代碼中使用此金鑰
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ============================================
# 築未科技大腦 - 多 AI 串接 (免費/低成本)
# ============================================
# 可選；有 GEMINI_API_KEY 時大腦優先使用 Gemini，否則依序嘗試 Groq/Ollama/Gemini/OpenRouter 等
# 設定的 Key 越多，備援越多；GEMINI_MODEL 可設 gemini-1.5-pro 更聰明

# Google Gemini (免費額度) https://aistudio.google.com/app/apikey
# 有設 GEMINI_API_KEY 時，大腦會優先使用 Gemini（像 Gemini 一樣聰明）
GEMINI_API_KEY=your-gemini-api-key
# GEMINI_MODEL=gemini-1.5-flash   # 預設；可改 gemini-1.5-pro 更聰明

# Anthropic Claude (階段 4/6 編碼與回饋修正) https://console.anthropic.com/
# 有設時 agent_logic 可注入 claude_service 供階段 4/6 使用
ANTHROPIC_API_KEY=your-anthropic-api-key
# CLAUDE_API_KEY 可作為 ANTHROPIC_API_KEY 的別名（擇一填寫即可）

# Groq (免費 70B) https://console.groq.com/keys 優先使用以提升品質
GROQ_API_KEY=your-groq-api-key
# GROQ_MODEL=llama-3.1-70b-versatile   # 預設 70B

# OpenRouter 免費模型 https://openrouter.ai/keys
OPENROUTER_API_KEY=your-openrouter-api-key

# xAI Grok https://x.ai/api（影像生成 generate_media 使用 grok-2-image）
# XAI_API_KEY=your-xai-api-key
# XAI_MODEL=grok-2-latest
# 佈署白名單服務用 nssm 路徑（deploy_service）；未設則用 C:\tools\nssm\nssm.exe
# NSSM_PATH=C:/tools/nssm/nssm.exe

# DeepSeek (低價) https://platform.deepseek.com/
DEEPSEEK_API_KEY=your-deepseek-api-key

# Mistral (免費額度) https://console.mistral.ai/
MISTRAL_API_KEY=your-mistral-api-key

# 千尋/通义千问 (阿里雲) https://dashscope.aliyun.com/
DASHSCOPE_API_KEY=your-dashscope-api-key

# AI 成本模式：local_only=僅本機 | local_first=本機優先 | free_only=僅免費 | all=全部
# 預設 free_only（只用 Ollama、Groq、Gemini、OpenRouter、Mistral）
# AI_COST_MODE=free_only

# 多 AI 一起思考：1=開啟（蒐集多個 AI 觀點合併回答）| 0=關閉
# AI_USE_ENSEMBLE=1

# 每月 AI 花費上限（新台幣）；超過後僅使用免費提供者（Ollama/Groq/Gemini/OpenRouter/Mistral）
# AI_BUDGET_TWD=1000
# USD_TO_TWD=32

# 文字文件辨識／理解：查詢超過此字數時自動提高檢索量與上下文長度
# BRAIN_DOC_QUERY_LEN=250
# BRAIN_DOC_LIMIT=14
# BRAIN_DOC_MAX_CHARS=7000
# BRAIN_QUERY_PREFIX_LEN=500

# Manus (AI Agent) https://open.manus.im/
# MANUS_API_KEY=your-manus-api-key

# 創意工具 - 文字生圖、3D、影音、聲音、AI影片
# Replicate 文字生圖 https://replicate.com/account/api-tokens
# REPLICATE_API_TOKEN=your-replicate-token

# Meshy 3D模型 https://meshy.ai/
# MESHY_API_KEY=your-meshy-api-key

# Runway 圖片轉影音、AI影片 https://runwayml.com/
# RUNWAY_API_KEY=your-runway-api-key

# ElevenLabs 聲音克隆/TTS https://elevenlabs.io/
# ELEVENLABS_API_KEY=your-elevenlabs-api-key

# ============================================
# Google AI (Gemini) - 前端用
# ============================================
VITE_GEMINI_API_KEY=your-google-ai-api-key

# Webhook URL（可選，用於系統狀態同步）
# 如果未設定，系統會僅記錄本地狀態
VITE_GOOGLE_AI_WEBHOOK_URL=your-gemini-webhook-url

# ============================================
# 推播與發信金鑰 (築未科技.email 專用)
# ============================================
# Web Push VAPID Public Key（用於瀏覽器推播訂閱）
# 取得方式：使用 web-push 庫生成 VAPID 金鑰對
VITE_PUSH_PUBLIC_KEY=your-vapid-public-key

# Web Push 推播服務 API 金鑰（用於後端發送推播）
VITE_PUSH_API_KEY=your-push-api-key

# 電子郵件發送服務金鑰（用於發送系統通知郵件）
VITE_EMAIL_API_KEY=your-email-api-key

# 發信服務端點（可選）
VITE_EMAIL_API_URL=https://api.築未科技.email/send

# ============================================
# 商用：電話註冊與國際授權碼 (OTP)
# ============================================
# 發送 OTP 的後端 API URL（POST body: { "phone": "+886912345678" }）
# 未設定時為展示模式，驗證碼請輸入 123456
VITE_OTP_SEND_URL=https://your-api.com/auth/send-otp

# 驗證 OTP 的後端 API URL（POST body: { "phone": "+886912345678", "code": "123456" }）
VITE_OTP_VERIFY_URL=https://your-api.com/auth/verify-otp

# ============================================
# 智慧營建管理 - Discord + Ollama (README_CURSOR)
# ============================================
# Discord Bot Token (zhewei_guard.py 傳令兵)
DISCORD_BOT_TOKEN=your-discord-bot-token
# 斷線重連間隔（秒），預設 30
# DISCORD_RETRY_DELAY=30

# Ollama 端點 (預設本機)
OLLAMA_BASE_URL=http://localhost:11434
# OLLAMA_MODEL=qwen2.5:7b  # 預設
# OLLAMA_CODER_MODEL=qwen2.5-coder:7b  # Agent 程式任務用，ollama pull qwen2.5-coder:7b

# 僅允許此 Discord 用戶 ID 執行「授權」「開啟」等本機操作（可選，未設定則所有人可操作）
# AUTHORIZED_USER_ID=962679936978657280

# 閒置 N 分鐘後自動關閉以省資源（0 = 不自動關閉）
# IDLE_EXIT_MINUTES=60

# 軍師：預設僅用本地免費 AI（Ollama/Groq/Gemini）修正，不求助付費軍師
# USE_PREMIUM_STRATEGIST=0   （預設）零花費、本地軍師
# USE_PREMIUM_STRATEGIST=1   失敗時可呼叫付費軍師
# STRATEGIST_API_KEY=your-openai-key
# STRATEGIST_ENDPOINT=https://api.openai.com/v1/chat/completions

# 築未科技大腦資料目錄（預設 D:\zhewei_brain_data，append-only 保護）
# ZHEWEI_BRAIN_DATA_DIR=D:/zhewei_brain_data

# 築未科技大腦 API — 帳號/密碼登入（網頁 /login、/demo）
# AUTH_USERS=帳號1:密碼1,帳號2:密碼2  或 帳號:sha256密碼雜湊(64字元hex)
# BRAIN_BRIDGE_PORT=5100
# BRAIN_SESSION_TTL=86400   # Session 有效秒數，預設 24h

# AI視覺辨識系統 監看（ai_vision_monitor.py）
# AI_VISION_DIR=D:/AI_Vision_Recognition
# AI_VISION_MONITOR_INTERVAL=300

# GitHub Token（自我學習：搜尋 repo、取 README，無 token 也可用但 rate limit 較嚴）
# 取得：https://github.com/settings/tokens → Generate new token (classic)，勾選 repo (read)
# GITHUB_TOKEN=ghp_xxxx

# 網頁搜尋（Agent web_search 工具）：三選一
# 1. pip install duckduckgo-search（免 key）
# 2. SERPER_API_KEY（https://serper.dev）
# 3. TAVILY_API_KEY（https://tavily.com）

# ============================================
# 可選設定
# ============================================
# COMPANY_ID=your-company-id
# USER_ID=your-user-id
