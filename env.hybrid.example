# 築未科技 — 混合部署環境變數範例
# 複製此檔案為 .env 並填入實際值

# ============================================
# Cloudflare Tunnel（必要）
# ============================================
CLOUDFLARE_TOKEN=your_cloudflare_tunnel_token_here

# ============================================
# Ollama 智慧路由配置
# ============================================

# 本地 GPU Ollama（透過 Cloudflare Tunnel）
OLLAMA_GPU_URL=https://ollama-gpu.zhe-wei.net

# 雲端 CPU Ollama（Docker 內部網路）
OLLAMA_BASE_URL=http://ollama:11434

# 預設模型
OLLAMA_MODEL=qwen2.5:7b
OLLAMA_CODER_MODEL=qwen2.5-coder:7b

# 超時設定（秒）
OLLAMA_GPU_TIMEOUT=5
OLLAMA_CPU_TIMEOUT=10
OLLAMA_TIMEOUT=120

# 快取時間（秒）
OLLAMA_CACHE_DURATION=60

# 降級策略啟用
OLLAMA_FALLBACK_ENABLED=true

# ============================================
# AI 成本模式
# ============================================
# smart_route: 智慧路由（本地 GPU 優先，不可用時降級雲端 CPU）
# local_first: 本地優先（省錢模式）
# cloud_first: 雲端優先（品質優先）
AI_COST_MODE=smart_route

# ============================================
# AI Provider API Keys
# ============================================

# Google Gemini（推薦，免費額度充足）
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-2.0-flash-exp

# Groq（免費，速度快）
GROQ_API_KEY=your_groq_api_key_here

# DeepSeek（便宜，推理能力強）
DEEPSEEK_API_KEY=your_deepseek_api_key_here

# OpenRouter（可選）
OPENROUTER_API_KEY=your_openrouter_api_key_here

# Mistral（可選）
MISTRAL_API_KEY=your_mistral_api_key_here

# Anthropic Claude（可選）
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# ============================================
# 本地服務 URL（透過 Cloudflare Tunnel）
# ============================================

# Vision AI（本地 GPU）
VISION_GPU_URL=https://vision-gpu.zhe-wei.net

# ComfyUI（本地 GPU）
COMFYUI_URL=https://comfyui.zhe-wei.net

# Dify（本地）
DIFY_LOCAL_URL=https://dify-local.zhe-wei.net

# ============================================
# 工作目錄（雲端 VPS）
# ============================================
WORK_DIR=/opt/zhewei
BRAIN_WORKSPACE=/app/brain_workspace
ZHEWEI_MEMORY_ROOT=/memory

# ============================================
# 服務端口
# ============================================
BRAIN_WS_PORT=8000
PORT=8000
SMART_BRIDGE_PORT=8003
PORTAL_PORT=8888
CMS_PORT=8020
CODESIM_PORT=8001
PREDICTION_PORT=8025

# ============================================
# Ntfy 推播（可選）
# ============================================
NTFY_SERVER=https://notify.zhewei.tech
NTFY_ADMIN_USER=admin
NTFY_ADMIN_PASS=your_ntfy_admin_password
NTFY_DEFAULT_TOPIC=zhewei_general
NTFY_CLIENT_USER=client_general

# ============================================
# 資料庫（如需要）
# ============================================
# PostgreSQL
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=zhewei
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_postgres_password

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379

# ============================================
# 監控與日誌
# ============================================
LOG_LEVEL=INFO
ENABLE_METRICS=true
HEALTH_CHECK_INTERVAL=300

# ============================================
# 安全設定
# ============================================
JWT_SECRET=your_jwt_secret_here
LICENSE_SERVER_SECRET=your_license_secret_here

# ============================================
# 混合部署特定設定
# ============================================

# 本地主機檢測間隔（秒）
LOCAL_HOST_CHECK_INTERVAL=60

# 自動降級啟用
AUTO_FALLBACK_ENABLED=true

# 降級通知
FALLBACK_NOTIFICATION_ENABLED=true
