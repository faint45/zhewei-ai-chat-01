# 築未科技大腦 — 可運行檢核表

## 兩條啟動路徑

### 模式 A：Stable / 對外運營（推薦）

**啟動**：`Start_All_Stable.bat`

| 項目 | 狀態 | 驗證方式 |
|------|------|----------|
| zhewei_brain 容器 | 必須 | `docker ps \| findstr zhewei_brain` |
| tunnel 容器 | 必須 | `docker ps \| findstr tunnel` |
| zhe-wei-ollama | 必須 | `docker ps \| findstr ollama` |
| zhewei-qdrant | 必須 | `docker ps \| findstr qdrant` |
| Brain API | 必須 | `http://127.0.0.1:8002/health` |
| Health Summary | 必須 | `http://127.0.0.1:8002/api/health/summary` |
| Monitor | 必須 | `scripts/start_runtime_monitor.bat` 已啟動 |
| Discord Bot | 必須 | `Jarvis_Training/run_discord_bot_autostart.bat` 已啟動 |
| commercial_gate | 必須 | `scripts/commercial_gate.py` 全綠 |

**「完整」定義**：brain_server + tunnel + ollama + qdrant + monitor + bot

---

### 模式 B：本機完整版（開發/測試）

**啟動**：`啟動_築未科技大腦_完整版.bat`

| 項目 | Port | 驗證方式 |
|------|------|----------|
| startup_diagnostics | — | 通過後才會啟動後續 |
| brain_server | 8002 | `http://localhost:8002/health` |
| monitoring_dashboard | 8001 | `http://localhost:8001` |

**注意**：此路徑「不會」啟用 remote_control_server、seven_stage_api、website_server。  
若需主機任務佇列，需額外執行 `scripts/start_runtime_monitor.bat`。

---

## 常見 Port 對照

| 服務 | Port | 說明 |
|------|------|------|
| brain_server | 8002 | 預設（可設 PORT 或 BRAIN_WS_PORT 覆蓋） |
| monitoring_dashboard | 8001 | |
| remote_control_server | 8005 | 遠程控制 API |
| Docker 映射 | 8002:8000 | 容器內 8000，對外 8002 |

---

## 已修復項目（2026-02-11）

1. **startup_diagnostics.py**：移除 merge conflict，委派 `preflight_check.run_main()`
2. **remote_control_server.py**：log 顯示改為 8005（與 uvicorn 一致）
3. **啟動_築未科技大腦_完整版.bat**：port 顯示與瀏覽器連結改為 8002
