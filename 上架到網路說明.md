# 築未科技大腦 — 上架到網路說明

**可以上架到網路嗎？** 可以。  
**需要自己建構網站嗎？** 不需要從零建構；專案已有登入頁與 API，可選「只上架 API」或「前端 + API 一起上架」。

---

## 一、兩種概念

| 項目 | 說明 |
|------|------|
| **只上架「大腦 API」** | 把 Brain Bridge（FastAPI）部署到雲端，得到一個網址（如 `https://zhewei-brain-xxx.onrender.com`），手機／網頁／設備都連這個網址。 |
| **前端網站 + 大腦 API** | 前端（營建戰甲等）部署到 Vercel／Netlify（已有）；大腦 API 部署到 Railway／Render；前端設定 API 網址指向雲端。 |

兩者都不需要「從零寫一個新網站」：登入頁、Demo 頁已在專案裡（`public/login.html`、`public/brain-api-demo.html`），可隨 API 一起部署，或前端改連雲端 API。

---

## 二、推薦做法（依需求）

### 做法 A：只把「大腦 API」上架（最簡單）

**適合**：想讓手機、另一台電腦、或自己的小工具在網路上連到大腦。

1. **部署 Brain Bridge 到雲端**（任選一）：
   - **Render.com**（免費方案，閒置會休眠）  
     - 專案根目錄有 `render.yaml` 時，可到 [render.com](https://render.com) → New → Blueprint → 連 GitHub 選此專案，會依 `render.yaml` 建立服務。  
     - 或手動：New → Web Service → 選此 repo → Build: `pip install -r requirements.txt`，Start: `uvicorn brain_bridge_fastapi:app --host 0.0.0.0 --port $PORT`。
   - **Railway**（每月約 $5 免費額度）：`railway init` → `railway up`，Start 指令同上。
   - **Fly.io**：`fly launch` 後設定 Docker 或直接用 `uvicorn` 指令。

2. **在雲端後台設定環境變數**（至少）：
   - `GEMINI_API_KEY`（或其它 AI Key）
   - `AUTH_USERS=帳號:密碼`（若要網頁登入）

3. **得到網址**：例如 `https://zhewei-brain-xxx.onrender.com`  
   - 登入頁：`https://zhewei-brain-xxx.onrender.com/login`  
   - 健康檢查：`https://zhewei-brain-xxx.onrender.com/health`

4. **不需要自己建網站**：用上述登入頁即可在瀏覽器登入、用 Demo 頁對話。

---

### 做法 B：前端網站 + 大腦 API 都上架

**適合**：已有或打算用 Vercel 放「營建戰甲」等前端，希望大腦也在網路上。

1. **前端**：維持現有方式部署到 Vercel／Netlify（`npm run build` → `npm run deploy:vercel` 等），得到例如 `https://zhe-wei-tech.vercel.app`。
2. **大腦 API**：同做法 A，部署到 Render／Railway，得到 `https://zhewei-brain-xxx.onrender.com`。
3. **前端設定**：把「大腦 API 的網址」設成環境變數（例如 `VITE_BRAIN_API_URL=https://zhewei-brain-xxx.onrender.com`），前端打 API 時用這個網址。
4. **不需要另建一個「新網站」**：只是把現有前端的 API 網址從本機改成雲端。

---

### 做法 C：自建主機（VPS／家裡電腦 + 固定 IP 或 DDNS）

**適合**：想完全自己控管、或已有主機。

1. 在主機上安裝 Python、依 `requirements.txt` 安裝依賴。
2. 執行：`uvicorn brain_bridge_fastapi:app --host 0.0.0.0 --port 5100`（或用 gunicorn）。
3. 防火牆開放 5100（或 80/443 用 Nginx 轉發）。
4. 若為家裡電腦：可搭配 DDNS（如 No-IP、DuckDNS）取得固定網址。

這樣就有一個「你自己的網站」（大腦 API + 登入／Demo 頁），不需用 Vercel／Render。

---

## 三、Render 一鍵部署（Brain Bridge）

專案內已提供 `render.yaml`，用於在 Render 上建立 **Web Service**（Brain Bridge API）：

1. 登入 [render.com](https://render.com)，用 GitHub 登入。
2. **New** → **Blueprint** → 選擇連到 GitHub 的此專案。
3. Render 會讀取 `render.yaml`，建立一個 Python Web Service，並使用 `requirements.txt` 與啟動指令。
4. 在 Service 的 **Environment** 加上：
   - `GEMINI_API_KEY`
   - `AUTH_USERS=帳號:密碼`（選填）
5. 部署完成後會得到一個網址，例如：  
   `https://zhe-wei-tech-brain.onrender.com`  
   - 登入：`https://zhe-wei-tech-brain.onrender.com/login`  
   - 健康檢查：`https://zhe-wei-tech-brain.onrender.com/health`

**注意**：Render 免費方案閒置一段時間會休眠，第一次打開可能需等幾十秒喚醒。

---

## 四、總結

| 問題 | 答案 |
|------|------|
| 可以上架到網路嗎？ | **可以**，把 Brain Bridge 部署到 Render／Railway／Fly.io／自建主機即可。 |
| 需要建構自己的網站嗎？ | **不需要從零建構**；專案已有登入頁與 API，可只上架 API，或前端 + API 分開上架。 |
| 若我要「一個網址給別人用」？ | 用做法 A 或 C，得到一個 API 網址，把 `/login` 或 `/demo` 的連結給別人即可。 |

更多 API 端點與認證方式請見：`接入說明_設備軟件網頁.md`。
